<section id="take-exam" class="section">
    <h2 class="section-title">
        <i class="fas fa-clock"></i> Take Exam
        <span class="field-indicator" id="exam-field-indicator">
            <i class="fas fa-building"></i> Civil
        </span>
    </h2>
    <p>Choose between Subjective or Multiple Choice exam formats. <strong>First 2 sets are free, additional sets require purchase.</strong></p>
    
    <div class="exam-type-selection" id="exam-type-selection">
        <h3>Select Exam Type:</h3>
        <div style="display: flex; gap: 2 rem; margin-top: 1.5 rem; flex-wrap: wrap;">
            <div class="subject-card" style="flex: 1; min-width: 250 px;" data-exam-type="subjective">
                <i class="fas fa-edit"></i>
                <h3>Subjective Exam</h3>
                <p>3-hour timer, all questions displayed at once</p>
            </div>
            <div class="subject-card" style="flex: 1; min-width: 250 px;" data-exam-type="multiple-choice">
                <i class="fas fa-check-circle"></i>
                <h3>Multiple Choice Exam</h3>
                <p>30-minute timer, view answers after submission</p>
            </div>
        </div>
    </div>
    
    <!-- Exam Set Selection (Dynamic Content) -->
    <div id="exam-set-selection" style="display: none;">
        <!-- Content will be dynamically added by JavaScript -->
    </div>
    
    <!-- Subjective Exam -->
    <div id="subjective-exam" style="display: none;">
        <div class="exam-header">
            <div>
                <h3 id="subjective-exam-title">Subjective Exam</h3>
                <p>Answer all questions in the answer booklet provided.</p>
            </div>
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <div class="timer" id="subjective-timer">03:00:00</div>
            </div>
            <div class="exam-progress">
                <div class="progress-item">Questions: <span id="subjective-total-questions">0</span></div>
                <div class="progress-item">Total Marks: <span id="subjective-total-marks">0</span></div>
            </div>
        </div>
        
        <div class="subjective-exam-container" id="subjective-exam-questions">
            <!-- Questions will be populated by JavaScript -->
            <div class="loading-state">
                <div class="spinner"></div>
                <p>Loading exam questions...</p>
            </div>
        </div>
        
        <div style="margin-top: 2 rem; text-align: center;">
            <button class="btn btn-primary" id="submit-subjective-exam" style="padding: 0.8 rem 2 rem; font-size: 1.1 rem;">
                <i class="fas fa-paper-plane"></i> Submit Exam
            </button>
            <button class="btn btn-secondary" id="back-to-exam-type">
                <i class="fas fa-arrow-left"></i> Back to Exam Type
            </button>
        </div>
    </div>
    
    <!-- Multiple Choice Exam -->
    <div id="multiple-choice-exam" style="display: none;">
        <div class="exam-header">
            <div>
                <h3 id="multiple-choice-exam-title">Multiple Choice Exam</h3>
                <p>Choose the correct answer for each question.</p>
            </div>
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <div class="timer" id="mcq-exam-timer">00:30:00</div>
            </div>
            <div class="exam-progress">
                <div class="progress-item">Questions: <span id="mcq-total-questions">0</span></div>
                <div class="progress-item">Answered: <span id="mcq-answered-questions">0</span></div>
                <div class="progress-item">Remaining: <span id="mcq-remaining-questions">0</span></div>
            </div>
        </div>
        
        <div class="mcq-paginated-container" id="multiple-choice-container">
            <!-- Questions will be populated by JavaScript -->
            <div class="loading-state">
                <div class="spinner"></div>
                <p>Loading exam questions...</p>
            </div>
        </div>
        
        <div class="pagination-controls">
            <div class="pagination-buttons">
                <button class="btn btn-primary" id="prev-exam-question">
                    <i class="fas fa-chevron-left"></i> Previous
                </button>
                <button class="btn btn-secondary" id="flag-exam-question">
                    <i class="far fa-flag"></i> Flag
                </button>
            </div>
            
            <div class="page-indicator">
                Question <span id="current-exam-question">1</span> of <span id="total-exam-questions">0</span>
            </div>
            
            <div class="pagination-buttons">
                <button class="btn btn-primary" id="next-exam-question">
                    Next <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
        
        <div style="margin-top: 2 rem; text-align: center;">
            <button class="btn btn-primary" id="submit-mcq-exam" style="padding: 0.8 rem 2 rem; font-size: 1.1 rem;">
                <i class="fas fa-paper-plane"></i> Submit Exam
            </button>
            <button class="btn btn-secondary" id="back-to-exam-type-mcq">
                <i class="fas fa-arrow-left"></i> Back to Exam Type
            </button>
        </div>
    </div>
    
    <!-- Exam Results -->
    <div id="exam-results" style="display: none;">
        <div style="background-color: #e7f5ff; padding: 2 rem; border-radius: var (--border-radius); text-align: center; margin-top: 2 rem;">
            <h3><i class="fas fa-trophy"></i> Exam Submitted Successfully!</h3>
            <div style="font-size: 3 rem; color: var (--secondary-color); font-weight: bold; margin: 1.5 rem 0;" id="exam-score">85%</div>
            <p>Your score: <strong id="exam-correct-answers">17</strong> out of <strong id="exam-total-questions">20</strong> questions correct</p>
            
            <div style="display: flex; justify-content: center; gap: 2 rem; margin-top: 2 rem; flex-wrap: wrap;">
                <div style="text-align: center;">
                    <div style="font-size: 2 rem; color: var (--secondary-color);" id="correct-count">17</div>
                    <div>Correct</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2 rem; color: var (--accent-color);" id="wrong-count">2</div>
                    <div>Wrong</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2 rem; color: #6c757d;" id="skipped-count">1</div>
                    <div>Skipped</div>
                </div>
            </div>
            
            <div style="margin-top: 2 rem;">
                <button class="btn btn-primary" id="view-answers" style="margin-right: 1 rem;">
                    <i class="fas fa-eye"></i> View Correct Answers
                </button>
                <button class="btn btn-secondary" id="back-to-exam-type-results">
                    <i class="fas fa-redo"></i> Take Another Exam
                </button>
            </div>
        </div>
    </div>
    
    <!-- Payment Modal (will be dynamically inserted by JavaScript) -->
    <!-- Modal HTML structure is created in JavaScript -->
</section>
